/*
 * BrushedDC.h
 *
 *  Created on: Aug 10, 2025
 *      Author: dima
 */

#ifndef BRUSHEDDC_BRUSHEDDC_H_
#define BRUSHEDDC_BRUSHEDDC_H_

#include "main.h"
// Направление вращения по часовой стрелке
#define DirectRotCW 1

// Направление вращения против часовой стрелки
#define	DirectRotCCW 2

// Мертвая зона
#define DeadZone 3

// 7199/127 = 56.68 на единицу
#define MotorStep 56.68


/*
 * Функция управляет одновременно двумя двигателями.
 * Функция управляет контроллером щеточных двигателей
 * TB6612FNG в зависимости от принятых команд
 * устанавливает коэффициент заполнения ШИМ.
 * На вход принимает направление вращения,
 * число принятое с пульта, указывающее на желаемую
 * скорость, указатель на структутуру таймера.
 *
 * */

void Brushed2DC_Control(TIM_HandleTypeDef *htim1,uint32_t Channnel1, \
		uint32_t Channel2, int8_t acceleration, uint32_t DirectRot1, \
		uint32_t DirectRot2);
/*
 * Управление одним двигателем.
 *
 * */
void Brushed1DC_Control(TIM_HandleTypeDef *htim1,uint32_t Channel, int8_t acceleration);

// тормоз двигателем
void EngineBrake(uint32_t Channel);


#endif /* BRUSHEDDC_BRUSHEDDC_H_ */
